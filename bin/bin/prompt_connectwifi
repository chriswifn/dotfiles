#!/bin/sh

# Description:  Script to connect to wifi using nmcli 
# Dependencies: tofi (wayland), rofi (xorg) 
#               nmcli
# Author:       Christian Hageloch


# set the prompt variable
case "$XDG_SESSION_TYPE" in
    wayland)
	_PROMPT="tofi --prompt-text "
	;;
    *)
	_PROMPT="rofi -dmenu -i -p "
	;;
esac

_BSSID=$(nmcli device wifi list | sed -n '1!p' | cut -b 9- | $_PROMPT "Choose wifi:") || exit 0
_PASSWORD=$(echo "" | $_PROMPT "Enter password:")
nmcli device wifi connect "$_BSSID" "$_PASSWORD"
