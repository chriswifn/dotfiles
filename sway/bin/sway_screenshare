#!/bin/sh

# Description:  Make screen sharing work temporarily on chosen output on SwayWM.
# Dependencies: xdg-desktop-portal, xdg-desktop-portal-wlr, sway

export XDG_CURRENT_DESKTOP=sway

# set the prompt variable
_PROMPT="tofi --prompt-text "

_OUTPUT="$(swaymsg -pt get_outputs | grep "Output" | $_PROMPT "Choose monitor: " | awk '{print $2}')"

/usr/lib/xdg-desktop-portal -r & /usr/lib/xdg-desktop-portal-wlr -r -o "$_OUTPUT" &
